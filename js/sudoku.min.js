(()=>{let n;const v=document.getElementById("sudoku");var g=document.getElementById("solve"),l=document.getElementById("resetSolution"),m=document.getElementById("resetEntries");const w=document.getElementById("solution"),d=[];let h=!1,k=!1;const f=(a,b)=>Math.floor(Math.random()*(b-a+1)+a),x=()=>{for(let a=0;9>a;a++)for(let b=0;9>b;b++)document.getElementById("a"+a+b).value="";confirm("No solution was found in time. Clear entries and retry?")&&(alert("Page will Reload."),setInterval(()=>location.reload(),
1E3))},r=()=>{if(!h&&!k)if(Date.now()>n)h=!0,x();else{for(var a=0;9>a;a++)for(var b=0;9>b;b++)if(""==d[a][b]){for(let e=1;10>e;e++){var c;a:{for(c=0;9>c;c++)if(d[a][c]==e){c=!1;break a}for(c=0;9>c;c++)if(d[c][b]==e){c=!1;break a}c=3*Math.floor(b/3);const y=3*Math.floor(a/3);for(let p=0;3>p;p++)for(let q=0;3>q;q++)if(d[y+p][c+q]==e){c=!1;break a}c=!0}c&&(d[a][b]=e,r(),d[a][b]="")}return}for(a=0;9>a;a++)for(b=0;9>b;b++)document.getElementById("a"+a+b).value=d[a][b];k=!0}},t=()=>{for(let a=0;9>a;a++)for(let b=
0;9>b;b++)document.getElementById("s"+a+b).value="",d[b][a]=""},u=()=>{for(let a=0;9>a;a++)for(let b=0;9>b;b++)document.getElementById("a"+a+b).value="",document.getElementById("a"+a+b).style.color="black",d[b][a]=""};document.getElementById("generate").addEventListener("click",()=>{u();t();k=h=!1;n=Date.now()+3E3;d[0][0]=f(1,9);d[1][7]=f(1,9);d[2][4]=f(1,9);d[3][3]=f(1,9);d[4][1]=f(1,9);d[5][8]=f(1,9);d[6][6]=f(1,9);d[7][2]=f(1,9);d[8][5]=f(1,9);r()});l.addEventListener("click",()=>{k=h=!1;u()});
m.addEventListener("click",()=>{k=h=!1;t()});g.addEventListener("click",()=>{h=!1;n=Date.now()+3E3;var a=0;for(var b=0;9>b;b++)for(var c=0;9>c;c++)""!==document.getElementById("s"+b+c).value&&a++;if(0===a)a=!1;else for(a=!0,b="1 2 3 4 5 6 7 8 9 ".split(" "),c=0;9>c;c++)for(let e=0;9>e;e++)document.getElementById("s"+c+e).style.backgroundColor="aliceblue",b.includes(document.getElementById("s"+c+e).value)||(document.getElementById("s"+c+e).style.backgroundColor="red",a=!1);if(a){document.getElementById("invalidmessage").classList.add("hide");
document.getElementById("invalidmessage").classList.remove("show");for(a=0;9>a;a++)for(b=0;9>b;b++)d[a][b]=document.getElementById("s"+a+b).value;r()}else document.getElementById("invalidmessage").classList.remove("hide"),document.getElementById("invalidmessage").classList.add("show")});for(g=0;9>g;g++){d.push([]);l=document.createElement("div");m=document.createElement("div");v.appendChild(l);w.appendChild(m);for(let a=0;9>a;a++){const b=document.createElement("input"),c=document.createElement("input");
m.appendChild(c);l.appendChild(b);b.id="s"+g+a;c.id="a"+g+a;c.readOnly=!0;if(2===a||5===a)b.classList.add("rightBorder"),c.classList.add("rightBorder");if(2===g||5===g)b.classList.add("bottomBorder"),c.classList.add("bottomBorder")}}})();
